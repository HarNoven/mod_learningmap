{"version":3,"sources":["../src/placestore.js"],"names":["define","placestore","id","places","paths","startingplaces","targetplaces","placecolor","strokecolor","visitedcolor","height","width","editmode","loadJSON","json","fromjson","JSON","parse","Object","assign","buildJSON","stringify","addPlace","linkId","linkedActivity","push","length","addStartingPlace","removePlace","removeStartingPlace","removeTargetPlace","filter","p","e","isStartingPlace","includes","addTargetPlace","isTargetPlace","addPath","pid","fid","sid","removePath","getTouchingPaths","getActivityId","place","setActivityId","setColor","type","color","getColor","getId","setBackgroundDimensions"],"mappings":"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","sourcesContent":["define('placestore', function() {\n\n    var placestore = {\n        id: 0,\n        places: [],\n        paths: [],\n        startingplaces: [],\n        targetplaces: [],\n        placecolor: '#c01c28',\n        strokecolor: '#ffffff',\n        visitedcolor: '#26a269',\n        height: 100,\n        width: 800,\n        editmode: true,\n        loadJSON: function(json) {\n            try {\n                let fromjson = JSON.parse(json);\n                Object.assign(this, fromjson);\n            } catch {}\n        },\n        buildJSON: function() {\n            return JSON.stringify(this);\n        },\n        addPlace: function(id, linkId, linkedActivity = null) {\n            this.places.push({\n                id: id,\n                linkId: linkId,\n                linkedActivity: linkedActivity\n            });\n            if (this.places.length == 1) {\n                this.addStartingPlace(id);\n            }\n            id++;\n        },\n        removePlace: function(id) {\n            this.removeStartingPlace(id);\n            this.removeTargetPlace(id);\n            this.places = this.places.filter(\n                function(p) {\n                    return p.id != id;\n                }\n            );\n        },\n        addStartingPlace: function(id) {\n            this.startingplaces.push(id);\n        },\n        removeStartingPlace: function(id) {\n            this.startingplaces = this.startingplaces.filter(\n                function(e) {\n                    return e != id;\n                }\n            );\n        },\n        isStartingPlace: function(id) {\n            return this.startingplaces.includes(id);\n        },\n        addTargetPlace: function(id) {\n            this.targetplaces.push(id);\n        },\n        removeTargetPlace: function(id) {\n            this.targetplaces = this.targetplaces.filter(\n                function(e) {\n                    return e != id;\n                }\n            );\n        },\n        isTargetPlace: function(id) {\n            return this.targetplaces.includes(id);\n        },\n        addPath: function(pid, fid, sid) {\n            this.paths.push({\n                id: pid,\n                fid: fid,\n                sid: sid\n            });\n        },\n        removePath: function(id) {\n            this.paths = this.paths.filter(\n                function(p) {\n                    return p.id != id;\n                }\n            );\n        },\n        getTouchingPaths: function(id) {\n            return this.paths.filter(\n                function(p) {\n                    return p.fid == id || p.sid == id;\n                }\n            );\n        },\n        getActivityId: function(id) {\n            let place = this.places.filter(\n                function(e) {\n                    return id == e.id;\n                }\n            );\n            if (place.length > 0) {\n                return place[0].linkedActivity;\n            } else {\n                return null;\n            }\n        },\n        setActivityId: function(id, linkedActivity) {\n            let place = this.places.filter(\n                function(e) {\n                    return id == e.id;\n                }\n            );\n            if (place.length > 0) {\n                place[0].linkedActivity = linkedActivity;\n            }\n        },\n        setColor(type, color) {\n            switch (type) {\n                case 'stroke':\n                    this.strokecolor = color;\n                break;\n                case 'place':\n                    this.placecolor = color;\n                break;\n                case 'visited':\n                    this.visitedcolor = color;\n                break;\n            }\n        },\n        getColor(type) {\n            switch (type) {\n                case 'stroke':\n                    return this.strokecolor;\n                case 'place':\n                    return this.placecolor;\n                case 'visited':\n                    return this.visitedcolor;\n            }\n            return null;\n        },\n        getId() {\n            return this.id;\n        },\n        setBackgroundDimensions(width, height) {\n            this.width = width;\n            this.height = height;\n        }\n\n    };\n\n    return {\n        loadJSON: placestore.loadJSON,\n        buildJSON: placestore.buildJSON,\n        addPlace: placestore.addPlace,\n        removePlace: placestore.removePlace,\n        addStartingPlace: placestore.addStartingPlace,\n        removeStartingPlace: placestore.removeStartingPlace,\n        isStartingPlace: placestore.isStartingPlace,\n        addTargetPlace: placestore.addTargetPlace,\n        removeTargetPlace: placestore.removeTargetPlace,\n        isTargetPlace: placestore.isTargetPlace,\n        addPath: placestore.addPath,\n        removePath: placestore.removePath,\n        getTouchingPaths: placestore.getTouchingPaths,\n        getActivityId: placestore.getActivityId,\n        setActivityId: placestore.setActivityId,\n        setColor: placestore.setColor,\n        getColor: placestore.getColor,\n        getId: placestore.getId,\n        setBackgroundDimensions: placestore.setBackgroundDimensions\n    };\n  });"],"file":"placestore.min.js"}