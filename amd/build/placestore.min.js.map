{"version":3,"sources":["../src/placestore.js"],"names":["version","id","places","paths","startingplaces","targetplaces","placecolor","strokecolor","visitedcolor","height","width","hidepaths","mapid","editmode","usecheckmark","loadJSON","json","fromjson","JSON","parse","Object","assign","buildJSON","stringify","getPlacestore","addPlace","linkId","linkedActivity","push","length","addStartingPlace","removePlace","removeStartingPlace","removeTargetPlace","filter","p","e","isStartingPlace","includes","addTargetPlace","isTargetPlace","addPath","pid","fid","sid","strokedasharray","hidepath","removePath","getTouchingPaths","getActivityId","place","setActivityId","setColor","type","color","getColor","getId","setBackgroundDimensions","getPathsWithFid","getPathsWithSid","setHidePaths","value","getHidePaths","getMapid"],"mappings":"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","sourcesContent":["let placestore = {\n    version: 2011120601,\n    id: 0,\n    places: [],\n    paths: [],\n    startingplaces: [],\n    targetplaces: [],\n    placecolor: '#c01c28',\n    strokecolor: '#ffffff',\n    visitedcolor: '#26a269',\n    height: 100,\n    width: 800,\n    hidepaths: false,\n    mapid: '',\n    editmode: true,\n    usecheckmark: false,\n    /**\n     * Loads attributes from JSON into placestore\n     * @param {*} json\n     */\n    loadJSON: function(json) {\n        try {\n            let fromjson = JSON.parse(json);\n            Object.assign(this, fromjson);\n            // eslint-disable-next-line no-empty\n        } catch { }\n    },\n    /**\n     * Returns placestore as a JSON string ()\n     * @returns {string}\n     */\n    buildJSON: function() {\n        return JSON.stringify(this.getPlacestore());\n    },\n    /**\n     * Adds a place. If it is the only place, it is set as starting place\n     * @param {*} id id of the place\n     * @param {*} linkId id of the corresponding link\n     * @param {*} linkedActivity course module id of linked activity\n     */\n    addPlace: function(id, linkId, linkedActivity = null) {\n        this.places.push({\n            id: id,\n            linkId: linkId,\n            linkedActivity: linkedActivity,\n            placecolor: null,\n            visitedcolor: null\n        });\n        if (this.places.length == 1) {\n            this.addStartingPlace(id);\n        }\n        this.id++;\n    },\n    /**\n     * Removes a place\n     * @param {*} id id of the place\n     */\n    removePlace: function(id) {\n        this.removeStartingPlace(id);\n        this.removeTargetPlace(id);\n        this.places = this.places.filter(\n            function(p) {\n                return p.id != id;\n            }\n        );\n    },\n    /**\n     * Adds a place to the array of starting places\n     * @param {*} id id of the place\n     */\n    addStartingPlace: function(id) {\n        this.startingplaces.push(id);\n    },\n    /**\n     * Removes a place from the array of starting places\n     * @param {*} id id of the place\n     */\n    removeStartingPlace: function(id) {\n        this.startingplaces = this.startingplaces.filter(\n            function(e) {\n                return e != id;\n            }\n        );\n    },\n    /**\n     * Returns whether a place is in the array of starting places\n     * @param {*} id id of the place\n     * @returns {boolean}\n     */\n    isStartingPlace: function(id) {\n        return this.startingplaces.includes(id);\n    },\n    /**\n     * Adds a place to the array of target places\n     * @param {*} id id of the place\n     */\n    addTargetPlace: function(id) {\n        this.targetplaces.push(id);\n    },\n    /**\n     * Removes a place from the array of target places\n     * @param {*} id id of the place\n     */\n    removeTargetPlace: function(id) {\n        this.targetplaces = this.targetplaces.filter(\n            function(e) {\n                return e != id;\n            }\n        );\n    },\n    /**\n     * Returns whether a place is in the array of target places\n     * @param {number} id id of the place\n     * @returns {boolean}\n     */\n    isTargetPlace: function(id) {\n        return this.targetplaces.includes(id);\n    },\n    /**\n     * Adds a path between two places\n     * @param {*} pid id of the path\n     * @param {*} fid id of the first place\n     * @param {*} sid id of the second place\n     */\n    addPath: function(pid, fid, sid) {\n        this.paths.push({\n            id: pid,\n            fid: fid,\n            sid: sid,\n            strokecolor: null,\n            strokedasharray: null,\n            hidepath: null\n        });\n    },\n    /**\n     * Removes a path\n     * @param {*} id id of the place\n     */\n    removePath: function(id) {\n        this.paths = this.paths.filter(\n            function(p) {\n                return p.id != id;\n            }\n        );\n    },\n    /**\n     * Returns an array of paths touching a place\n     * @param {*} id id of the place\n     * @returns {array}\n     */\n    getTouchingPaths: function(id) {\n        return this.paths.filter(\n            function(p) {\n                return p.fid == id || p.sid == id;\n            }\n        );\n    },\n    /**\n     * Returns the course module id linked to a place\n     * @param {*} id id of the place\n     * @returns {number} id of the linked course module\n     */\n    getActivityId: function(id) {\n        let place = this.places.filter(\n            function(e) {\n                return id == e.id;\n            }\n        );\n        if (place.length > 0) {\n            return place[0].linkedActivity;\n        } else {\n            return null;\n        }\n    },\n    /**\n     * Sets the id of the linked course module\n     * @param {*} id id of the place\n     * @param {*} linkedActivity course module id\n     */\n    setActivityId: function(id, linkedActivity) {\n        let place = this.places.filter(\n            function(e) {\n                return id == e.id;\n            }\n        );\n        if (place.length > 0) {\n            place[0].linkedActivity = linkedActivity;\n        }\n    },\n    /**\n     * Sets the color of 'stroke', 'place' or 'visited'\n     * @param {*} type type of the color\n     * @param {*} color color in hex format\n     */\n    setColor: function(type, color) {\n        switch (type) {\n            case 'stroke':\n                this.strokecolor = color;\n                break;\n            case 'place':\n                this.placecolor = color;\n                break;\n            case 'visited':\n                this.visitedcolor = color;\n                break;\n        }\n    },\n    /**\n     * Gets the color of 'stroke', 'place' or 'visited'\n     * @param {*} type type of the color\n     * @returns {string} color in hex format\n     */\n    getColor: function(type) {\n        switch (type) {\n            case 'stroke':\n                return this.strokecolor;\n            case 'place':\n                return this.placecolor;\n            case 'visited':\n                return this.visitedcolor;\n        }\n        return null;\n    },\n    /**\n     * Returns the current id\n     * @returns {number}\n     */\n    getId: function() {\n        return this.id;\n    },\n    /**\n     * Sets the dimensions of the background image\n     * @param {*} width\n     * @param {*} height\n     */\n    setBackgroundDimensions: function(width, height) {\n        this.width = width;\n        this.height = height;\n    },\n    /**\n     * Returns all paths starting at a place\n     * @param {*} id id of the place\n     * @returns {array}\n     */\n    getPathsWithFid: function(id) {\n        return this.paths.filter(function(p) {\n            return p.fid == id;\n        });\n    },\n    /**\n     * Returns all paths ending at a place\n     * @param {*} id id of the place\n     * @returns {array}\n     */\n    getPathsWithSid: function(id) {\n        return this.paths.filter(function(p) {\n            return p.sid == id;\n        });\n    },\n    /**\n     * Returns the attributes of placestore\n     * @returns {object}\n     */\n    getPlacestore: function() {\n        return {\n            id: this.id,\n            places: this.places,\n            paths: this.paths,\n            startingplaces: this.startingplaces,\n            targetplaces: this.targetplaces,\n            placecolor: this.placecolor,\n            strokecolor: this.strokecolor,\n            visitedcolor: this.visitedcolor,\n            height: this.height,\n            width: this.width,\n            hidepaths: this.hidepaths,\n            mapid: this.mapid,\n            usecheckmark: this.usecheckmark,\n            editmode: this.editmode\n        };\n    },\n    /**\n     * Sets hidepaths attribute\n     * @param {boolean} value\n     */\n    setHidePaths: function(value) {\n        this.hidepaths = value;\n    },\n    /**\n     * Returns the value of hidepaths attribute\n     * @returns {boolean}\n     */\n    getHidePaths: function() {\n        return this.hidepaths;\n    },\n    /**\n     * Returns the mapid\n     * @returns {string}\n     */\n    getMapid: function() {\n        return this.mapid;\n    }\n};\n\nexport default placestore;"],"file":"placestore.min.js"}